import{X as I,A as T,h as B,a5 as L,a6 as k,a7 as D,a8 as M,R as v,Q as N,B as R,a9 as U,aa as V,Z as P,ab as $,ac as O,ad as j,j as S,ae as x,m as G}from"./template.CsZ0BI7v.js";import{a as H}from"./lifecycle.BaDe3AZO.js";function Q(e,a,t,u=t){e.addEventListener(a,t);const r=e.__on_r;r?e.__on_r=()=>{r(),u()}:e.__on_r=u,H()}function z(e,a,t=a){var u=I();Q(e,"input",()=>{var r=p(e)?q(e.value):e.value;t(r),u&&r!==(r=a())&&(e.value=r??"")}),T(()=>{var r=a();if(B&&e.defaultValue!==e.value){t(e.value);return}p(e)&&r===q(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function p(e){var a=e.type;return a==="number"||a==="range"}function q(e){return e===""?null:+e}let c=!1;function X(e){var a=c;try{return c=!1,[e(),c]}finally{c=a}}function w(e){for(var a=S,t=S;a!==null&&!(a.f&(U|V));)a=a.parent;try{return P(a),e()}finally{P(t)}}function J(e,a,t,u){var r=(t&x)!==0,A=(t&$)!==0,C=!1,_;[_,C]=X(()=>e[a]);var f=L(e,a)?.set,s=u,g=!0,E=!1,F=()=>(E=!0,g&&(g=!1,s=R(u)),s);_===void 0&&u!==void 0&&(f&&A&&k(),_=F(),f&&f(_));var d;{var h=w(()=>(r?O:j)(()=>e[a]));h.f|=D,d=()=>{var n=v(h);return n!==void 0&&(s=void 0),n===void 0?s:n}}if(f)return e.$$legacy,function(n,l){return arguments.length>0?(f(l?d():n),n):d()};var o=!1,y=!1,b=G(_),i=w(()=>O(()=>{var n=d(),l=v(b);return o?(o=!1,y=!0,l):(y=!1,b.v=n)}));return i.equals=M,function(n,l){if(arguments.length>0){const m=l?v(i):n;return i.equals(m)||(o=!0,N(b,m),E&&s!==void 0&&(s=m),R(()=>v(i))),n}return v(i)}}export{z as b,J as p};
