import{ar as p,aq as O,as as S,y as I,at as g,d as c,s as R,a as L,e as f,w as V,au as b,av as x,t as H,c as Y,aw as j,ax as A,ay as C,az as h,aA as M,g as $,J as k,h as w,ao as q,j as z,O as J,D as P}from"./template.CsZ0BI7v.js";const W=["touchstart","touchmove"];function B(t){return W.includes(t)}function K(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??=t.nodeValue)&&(t.__t=n,t.nodeValue=n==null?"":n+"")}function F(t,e){return N(t,e)}function Q(t,e){p(),e.intro=e.intro??!1;const n=e.target,u=w,_=f;try{for(var a=O(n);a&&(a.nodeType!==8||a.data!==S);)a=I(a);if(!a)throw g;c(!0),R(a),L();const i=N(t,{...e,anchor:a});if(f===null||f.nodeType!==8||f.data!==V)throw b(),g;return c(!1),i}catch(i){if(i===g)return e.recover===!1&&x(),p(),H(n),c(!1),F(t,e);throw i}finally{c(u),R(_)}}const o=new Map;function N(t,{target:e,anchor:n,props:u={},events:_,context:a,intro:i=!0}){p();var y=new Set,v=d=>{for(var r=0;r<d.length;r++){var s=d[r];if(!y.has(s)){y.add(s);var E=B(s);e.addEventListener(s,h,{passive:E});var T=o.get(s);T===void 0?(document.addEventListener(s,h,{passive:E}),o.set(s,1)):o.set(s,T+1)}}};v(Y(j)),A.add(v);var l=void 0,D=C(()=>{var d=n??e.appendChild(M());return $(()=>{if(a){k({});var r=P;r.c=a}_&&(u.$$events=_),w&&q(d,null),l=t(d,u)||{},w&&(z.nodes_end=f),a&&J()}),()=>{for(var r of y){e.removeEventListener(r,h);var s=o.get(r);--s===0?(document.removeEventListener(r,h),o.delete(r)):o.set(r,s)}A.delete(v),m.delete(l),d!==n&&d.parentNode?.removeChild(d)}});return m.set(l,D),l}let m=new WeakMap;function U(t){const e=m.get(t);e&&e()}export{Q as h,F as m,K as s,U as u};
